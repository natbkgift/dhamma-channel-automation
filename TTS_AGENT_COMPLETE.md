# тЬЕ TTS Preprocessor Agent - Setup Complete!

## ЁЯОЙ р╕кр╕гр╕╕р╕Ыр╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕гр╣Зр╕И

### 1. тЬЕ TTS Preprocessor Agent
**р╣Др╕Яр╕ер╣М**: `scripts/tts_preprocessor.py`

**р╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Ц**:
- р╕ер╕Ър╣Бр╕Чр╕Б (#hashtag), р╕нр╕╡р╣Вр╕бр╕Ир╕┤ (ЁЯОп), HTML/Markdown
- р╕ер╕Ъ URLs р╣Бр╕ер╕░ @mentions
- р╕Вр╕вр╕▓р╕вр╕Др╕│р╕вр╣Ир╕н (р╕Ю.р╕и. тЖТ р╕Юр╕╕р╕Чр╕Шр╕ир╕▒р╕Бр╕гр╕▓р╕К, р╕Фр╕г. тЖТ р╕Фр╕нр╕Бр╣Ар╕Хр╕нр╕гр╣М)
- р╣Бр╕Ыр╕ер╕Зр╕Хр╕▒р╕зр╣Ар╕ер╕В (5 тЖТ р╕лр╣Йр╕▓, 20 тЖТ р╕вр╕╡р╣Ир╕кр╕┤р╕Ъ, 100% тЖТ р╕лр╕Щр╕╢р╣Ир╕Зр╕гр╣Йр╕нр╕вр╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М)
- р╕Ыр╕гр╕▒р╕Ър╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕лр╕бр╕▓р╕вр╕зр╕гр╕гр╕Др╕Хр╕нр╕Щ
- р╣Бр╕Ър╣Ир╕Зр╕Ыр╕гр╕░р╣Вр╕вр╕Др╕вр╕▓р╕з (>150 р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г)

**р╕Ьр╕ер╕Чр╕Фр╕кр╕нр╕Ъ**:
```
Input:  9,759 chars (17,903 bytes) - р╕бр╕╡ emoji, р╣Бр╕Чр╕Б, markdown
Output: 10,029 chars (19,532 bytes) - р╕кр╕░р╕нр╕▓р╕Ф р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Й TTS
Changes: р╕Вр╕вр╕▓р╕в 3 р╕Др╕│р╕вр╣Ир╕н, р╣Бр╕Ыр╕ер╕Зр╕Хр╕▒р╕зр╣Ар╕ер╕В, р╣Бр╕Ър╣Ир╕З 18 р╕Ыр╕гр╕░р╣Вр╕вр╕Др╕вр╕▓р╕з
```

### 2. тЬЕ Integration р╕Бр╕▒р╕Ъ tts_unified.py
**р╣Ар╕Юр╕┤р╣Ир╕б Arguments**:
- `--clean`: р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Й text preprocessing (р╣Бр╕Щр╕░р╕Щр╕│!)
- `--preview`: р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕лр╕ер╕▒р╕З clean (р╣Др╕бр╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕З)

**р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ**:
```bash
# Preview р╕Бр╣Ир╕нр╕Щ
python scripts/tts_unified.py \
  --provider google \
  --script "audio/production_complete_001/recording_script_SIMPLE.txt" \
  --clean --preview

# р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕Зр╕Ир╕гр╕┤р╕З
python scripts/tts_unified.py \
  --provider google \
  --script "audio/production_complete_001/recording_script_SIMPLE.txt" \
  --output "audio/test_google_cleaned.mp3" \
  --voice th-TH-Neural2-C \
  --clean
```

### 3. тЬЕ HTML UI Update
**р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ PRODUCTION_GUIDE.html**:
- тЬЕ Checkbox: "ЁЯз╣ р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (р╣Бр╕Щр╕░р╕Щр╕│!)"
- тЬЕ Checked by default
- тЬЕ р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в: "р╕ер╕Ър╣Бр╕Чр╕Б, р╕нр╕╡р╣Вр╕бр╕Ир╕┤, р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕лр╕бр╕▓р╕вр╕Юр╕┤р╣Ар╕ир╕й р╣Бр╕ер╕░р╕Ыр╕гр╕▒р╕Ър╕Хр╕▒р╕зр╣Ар╕ер╕В"
- тЬЕ JavaScript р╕гр╕нр╕Зр╕гр╕▒р╕Ъ `--clean` flag

**р╕зр╕┤р╕Шр╕╡р╣Гр╕Кр╣Й**:
1. р╣Ар╕Ыр╕┤р╕Ф `output/production_complete_001/PRODUCTION_GUIDE.html`
2. р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╣Др╕Ыр╕Чр╕╡р╣И Step 1: Voiceover Recording
3. р╣Ар╕Кр╣Зр╕Др╕Кр╣Ир╕нр╕З "р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б" (р╣Ар╕Кр╣Зр╕Др╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з)
4. р╕Др╕ер╕┤р╕Б "р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕Зр╕Фр╣Йр╕зр╕в AI"

### 4. тЬЕ Documentation
**р╣Др╕Яр╕ер╣М**: `TTS_PREPROCESSOR_GUIDE.md`

**р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓**:
- Quick Start (3 р╕зр╕┤р╕Шр╕╡)
- р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ (before/after)
- Use cases (р╕зр╕┤р╕Фр╕╡р╣Вр╕нр╕Шр╕гр╕гр╕бр╕░, social media, blog)
- Advanced features
- Configuration
- Troubleshooting
- Best practices

---

## ЁЯУК р╕Ьр╕ер╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕Ир╕гр╕┤р╕З

### Test 1: Standalone Preprocessor
```bash
python scripts/tts_preprocessor.py \
  --input "audio/production_complete_001/recording_script_SIMPLE.txt" \
  --output "audio/production_complete_001/recording_script_TTS_READY.txt"
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М**:
- р╕Хр╣Йр╕Щр╕Йр╕Ър╕▒р╕Ъ: 9,759 chars (17,903 bytes)
- р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╣Бр╕ер╣Йр╕з: 10,029 chars (19,532 bytes)
- р╕бр╕╡ emoji р╕Хр╕нр╕Щр╣Бр╕гр╕Б тЖТ р╕лр╕▓р╕вр╕лр╕бр╕Фр╕лр╕ер╕▒р╕З clean
- р╕Ыр╕гр╕░р╣Вр╕вр╕Др╕вр╕▓р╕зр╕кр╕╕р╕Ф 1,210 chars тЖТ р╣Бр╕Ър╣Ир╕Зр╣Ар╕Ыр╣Зр╕Щр╕кр╣Ир╕зр╕Щр╣Ар╕ер╣Зр╕Бр╕ер╕З
- тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И!

### Test 2: Integration with TTS
```bash
python scripts/tts_unified.py \
  --provider google \
  --script "audio/production_complete_001/recording_script_SIMPLE.txt" \
  --output "audio/test_google_cleaned.mp3" \
  --voice th-TH-Neural2-C \
  --clean
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М**:
- р╣Др╕Яр╕ер╣Мр╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з: `recording_script_SIMPLE_cleaned.txt` (auto-created)
- Chunks: 5 р╕кр╣Ир╕зр╕Щ (р╕Ир╕▓р╕Б 19,532 bytes)
- Output: 9.35 MB MP3
- р╕Др╣Ир╕▓р╣Гр╕Кр╣Йр╕Ир╣Ир╕▓р╕в: $0.1605 (~5.62 р╕Ър╕▓р╕Ч)
- р╕Др╕╕р╕Ур╕ар╕▓р╕Ю: тнРтнРтнРтнРтнР р╣Ар╕кр╕╡р╕вр╕Зр╕Шр╕гр╕гр╕бр╕Кр╕▓р╕Хр╕┤ р╣Др╕бр╣Ир╕бр╕╡р╣Ар╕кр╕╡р╕вр╕Зр╣Бр╕Ыр╕ер╕Б
- тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И!

### Test 3: Preview Mode
```bash
python scripts/tts_unified.py \
  --provider google \
  --script "audio/production_complete_001/recording_script_SIMPLE.txt" \
  --clean --preview
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М**:
- р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б 500 р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╣Бр╕гр╕Б
- р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З
- р╣Др╕бр╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕З
- тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И!

---

## ЁЯОп р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣И Agent р╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й

### тЬЕ р╕Бр╣Ир╕нр╕Щр╣Гр╕Кр╣Й Preprocessor
```
ЁЯЩП р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ! #р╕Шр╕гр╕гр╕бр╕░ #р╕кр╕Хр╕┤

р╕бр╕╡ 5 р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ:
тАв р╕Вр╕▒р╣Йр╕Щр╕Чр╕╡р╣И 1
тАв р╕Вр╕▒р╣Йр╕Щр╕Чр╕╡р╣И 2

р╕Фр╕╣р╣Ар╕Юр╕┤р╣Ир╕бр╕Чр╕╡р╣И: https://example.com
@username р╕Вр╕нр╕Ър╕Др╕╕р╕Ур╕Др╕гр╕▒р╕Ъ!

**р╕кр╕│р╕Др╕▒р╕Н**: р╕Ю.р╕и. 2567
р╕ер╕Фр╕Др╕зр╕▓р╕бр╣Ар╕Др╕гр╕╡р╕вр╕Фр╣Др╕Фр╣Й 30%
```

**р╣Ар╕кр╕╡р╕вр╕Зр╕Чр╕╡р╣Ир╣Др╕Фр╣Й** тЭМ:
> "р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ р╣Бр╕ор╕Кр╣Бр╕Чр╣Зр╕Бр╕Шр╕гр╕гр╕бр╕░ р╣Бр╕ор╕Кр╣Бр╕Чр╣Зр╕Бр╕кр╕Хр╕┤ р╕бр╕╡р╕лр╣Йр╕▓р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ р╕Ър╕╣р╕ер╣Ар╕ер╣Зр╕Хр╕Юр╕нр╕вр╕Чр╣М р╕Вр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕лр╕Щр╕╢р╣Ир╕З... р╕Фр╕╣р╣Ар╕Юр╕┤р╣Ир╕бр╕Чр╕╡р╣И р╣Ар╕нр╕Кр╕Чр╕╡р╕Чр╕╡р╕Юр╕╡... р╣Бр╕нр╕Чр╕вр╕╣р╕кр╣Ар╕Лр╕нр╕гр╣Мр╣Ар╕Щр╕б... р╕кр╕▓р╕бр╕кр╕┤р╕Ър╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╕Щр╕Хр╣М"

### тЬЕ р╕лр╕ер╕▒р╕Зр╣Гр╕Кр╣Й Preprocessor
```
р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ! 

р╕бр╕╡р╕лр╣Йр╕▓р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ
р╕Вр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕лр╕Щр╕╢р╣Ир╕З. 
р╕Вр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕кр╕нр╕З. 

р╕кр╕│р╕Др╕▒р╕Н. р╕Юр╕╕р╕Чр╕Шр╕ир╕▒р╕Бр╕гр╕▓р╕К р╕кр╕нр╕Зр╕Юр╕▒р╕Щр╕лр╣Йр╕▓р╕гр╣Йр╕нр╕вр╕лр╕Бр╕кр╕┤р╕Ър╣Ар╕Ир╣Зр╕Ф. 
р╕ер╕Фр╕Др╕зр╕▓р╕бр╣Ар╕Др╕гр╕╡р╕вр╕Фр╣Др╕Фр╣Йр╕кр╕▓р╕бр╕кр╕┤р╕Ър╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М.
```

**р╣Ар╕кр╕╡р╕вр╕Зр╕Чр╕╡р╣Ир╣Др╕Фр╣Й** тЬЕ:
> "р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ р╕бр╕╡р╕лр╣Йр╕▓р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ р╕Вр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕лр╕Щр╕╢р╣Ир╕З р╕Вр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕кр╕нр╕З р╕кр╕│р╕Др╕▒р╕Н р╕Юр╕╕р╕Чр╕Шр╕ир╕▒р╕Бр╕гр╕▓р╕К р╕кр╕нр╕Зр╕Юр╕▒р╕Щр╕лр╣Йр╕▓р╕гр╣Йр╕нр╕вр╕лр╕Бр╕кр╕┤р╕Ър╣Ар╕Ир╣Зр╕Ф р╕ер╕Фр╕Др╕зр╕▓р╕бр╣Ар╕Др╕гр╕╡р╕вр╕Фр╣Др╕Фр╣Йр╕кр╕▓р╕бр╕кр╕┤р╕Ър╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М"

---

## ЁЯУБ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З/р╣Бр╕Бр╣Йр╣Др╕В

### Created
- тЬЕ `scripts/tts_preprocessor.py` - Agent р╕лр╕ер╕▒р╕Б (344 р╕Ър╕гр╕гр╕Чр╕▒р╕Ф)
- тЬЕ `TTS_PREPROCESSOR_GUIDE.md` - р╕Др╕╣р╣Ир╕бр╕╖р╕нр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- тЬЕ `TTS_AGENT_COMPLETE.md` - р╕кр╕гр╕╕р╕Ыр╕Щр╕╡р╣Й

### Modified
- тЬЕ `scripts/tts_unified.py` - р╣Ар╕Юр╕┤р╣Ир╕б --clean, --preview
- тЬЕ `scripts/generate_production_report.py` - р╣Ар╕Юр╕┤р╣Ир╕б checkbox + JavaScript

### Generated
- тЬЕ `output/production_complete_001/PRODUCTION_GUIDE.html` - HTML р╕Юр╕гр╣Йр╕нр╕б UI
- тЬЕ `audio/production_complete_001/recording_script_TTS_READY.txt` - р╕Чр╕Фр╕кр╕нр╕Ъ
- тЬЕ `audio/test_google_cleaned.mp3` - р╣Ар╕кр╕╡р╕вр╕Зр╕Чр╕Фр╕кр╕нр╕Ъ (9.35 MB)

---

## ЁЯЪА р╕зр╕┤р╕Шр╕╡р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ (Production)

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╕Ьр╣Ир╕▓р╕Щ HTML UI (р╣Бр╕Щр╕░р╕Щр╕│!)

1. р╣Ар╕Ыр╕┤р╕Ф `output/production_complete_001/PRODUCTION_GUIDE.html`
2. р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╣Др╕Ыр╕Чр╕╡р╣И **Step 1: Voiceover Recording**
3. р╣Гр╕Щр╕кр╣Ир╕зр╕Щ **ЁЯдЦ р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕Зр╕Ър╕гр╕гр╕вр╕▓р╕вр╕Фр╣Йр╕зр╕в AI**:
   - тЬЕ "ЁЯз╣ р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б" (checked)
   - Provider: Google Cloud TTS
   - Voice: th-TH-Neural2-C
   - Speed: 1.0x
4. р╕Др╕ер╕┤р╕Б **"р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕Зр╕Фр╣Йр╕зр╕в AI"**
5. р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф batch file
6. р╕Фр╕▒р╕Ър╣Ар╕Ър╕┤р╕ер╕Др╕ер╕┤р╕Б тЖТ р╣Др╕Фр╣Йр╣Др╕Яр╕ер╣Мр╣Ар╕кр╕╡р╕вр╕З!

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: Command Line

```bash
# Full command
python scripts/tts_unified.py \
  --provider google \
  --script "audio/production_complete_001/recording_script_SIMPLE.txt" \
  --output "audio/voiceover_ai.mp3" \
  --voice th-TH-Neural2-C \
  --rate 1.0 \
  --clean
```

---

## ЁЯТб Best Practices

### тЬЕ р╕Др╕зр╕гр╣Гр╕Кр╣Й --clean р╣Ар╕кр╕бр╕нр╣Ар╕бр╕╖р╣Ир╕н:

1. **р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Шр╕гр╕гр╕бр╕░** (100% of the time!)
   - р╕ер╕Ър╣Бр╕Чр╕Б #р╕Шр╕гр╕гр╕бр╕░ #mindfulness
   - р╕ер╕Ър╕нр╕╡р╣Вр╕бр╕Ир╕┤ ЁЯЩП тЬи
   - р╣Ар╕кр╕╡р╕вр╕Зр╕Шр╕гр╕гр╕бр╕Кр╕▓р╕Хр╕┤р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф

2. **р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Ир╕▓р╕Б Social Media**
   - р╕бр╕╡ @mentions
   - р╕бр╕╡ URLs
   - р╕бр╕╡ hashtags

3. **р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕бр╕╡ Markdown/HTML**
   - р╕Ир╕▓р╕Б blog posts
   - р╕Ир╕▓р╕Б documentation

### ЁЯФН р╣Гр╕Кр╣Й --preview р╕Бр╣Ир╕нр╕Щр╣Ар╕кр╕бр╕н (р╕Др╕гр╕▒р╣Йр╕Зр╣Бр╕гр╕Б)

```bash
python scripts/tts_unified.py \
  --script "new_script.txt" \
  --clean --preview
```

р╕Фр╕╣р╕зр╣Ир╕▓:
- р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕ер╕Ър╣Ар╕Бр╕┤р╕Щр╣Др╕Ыр╣Др╕лр╕б?
- р╕Хр╕▒р╕зр╣Ар╕ер╕Вр╣Бр╕Ыр╕ер╕Зр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Др╕лр╕б?
- р╕Др╕│р╕вр╣Ир╕нр╕Вр╕вр╕▓р╕вр╕Др╕гр╕Ър╣Др╕лр╕б?

---

## ЁЯОУ Features р╕Чр╕╡р╣Ир╣Ар╕Фр╣Ир╕Щ

### 1. Smart Number Conversion
```python
1 тЖТ р╕лр╕Щр╕╢р╣Ир╕З
5 тЖТ р╕лр╣Йр╕▓
10 тЖТ р╕кр╕┤р╕Ъ
15 тЖТ р╕кр╕┤р╕Ър╕лр╣Йр╕▓
20 тЖТ р╕вр╕╡р╣Ир╕кр╕┤р╕Ъ
21 тЖТ р╕вр╕╡р╣Ир╕кр╕┤р╕Ър╣Ар╕нр╣Зр╕Ф  # Smart! р╣Др╕бр╣Ир╣Гр╕Кр╣И "р╕вр╕╡р╣Ир╕кр╕┤р╕Ър╕лр╕Щр╕╢р╣Ир╕З"
100% тЖТ р╕лр╕Щр╕╢р╣Ир╕Зр╕гр╣Йр╕нр╕вр╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М
```

### 2. Context-Aware Punctuation
```python
р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б!!!  тЖТ р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б!       # р╕ер╕Ър╕Лр╣Йр╕│
р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б...  тЖТ р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б.        # TTS р╕нр╣Ир╕▓р╕Щ ... р╣Др╕бр╣Ир╕Фр╕╡
р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б:р╕Хр╣Ир╕н тЖТ р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б. р╕Хр╣Ир╕н    # р╣Бр╕Ыр╕ер╕З : р╣Ар╕Ыр╣Зр╕Щ .
```

### 3. Long Sentence Splitting
```python
# р╕Ыр╕гр╕░р╣Вр╕вр╕Др╕вр╕▓р╕з 200+ chars
"р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕вр╕▓р╕зр╕бр╕▓р╕Бр╣Ж р╕Чр╕╡р╣Ир╕бр╕╡ comma р╕лр╕ер╕▓р╕вр╕Хр╕▒р╕з р╣Бр╕ер╕░р╕бр╕╡р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕вр╕▓р╕з..."

# р╣Бр╕Ър╣Ир╕Зр╣Ар╕Ыр╣Зр╕Щ
"р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕вр╕▓р╕зр╕бр╕▓р╕Бр╣Ж. р╕Чр╕╡р╣Ир╕бр╕╡ comma р╕лр╕ер╕▓р╕вр╕Хр╕▒р╕з. р╣Бр╕ер╕░р╕бр╕╡р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕вр╕▓р╕з."
```

### 4. Abbreviation Expansion
```python
# р╣Др╕Чр╕в
р╕Ю.р╕и. тЖТ р╕Юр╕╕р╕Чр╕Шр╕ир╕▒р╕Бр╕гр╕▓р╕К
р╕б. тЖТ р╕бр╕лр╕▓р╕зр╕┤р╕Чр╕вр╕▓р╕ер╕▒р╕в
р╕Фр╕г. тЖТ р╕Фр╕нр╕Бр╣Ар╕Хр╕нр╕гр╣М

# English
Mr. тЖТ Mister
Dr. тЖТ Doctor
Prof. тЖТ Professor
```

---

## ЁЯФз Customization

### р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕│р╕вр╣Ир╕нр╣Гр╕лр╕бр╣И

р╣Бр╕Бр╣Й `scripts/tts_preprocessor.py`:

```python
self.abbreviations = {
    # р╣Ар╕Фр╕┤р╕б...
    
    # р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕лр╕бр╣И
    'р╕Ьр╕н.': 'р╕Ьр╕╣р╣Йр╕нр╕│р╕Щр╕зр╕вр╕Бр╕▓р╕г',
    'р╕гр╕Ю.': 'р╣Вр╕гр╕Зр╕Юр╕вр╕▓р╕Ър╕▓р╕е',
    'р╕Бр╕Чр╕б.': 'р╕Бр╕гр╕╕р╕Зр╣Ар╕Чр╕Юр╕бр╕лр╕▓р╕Щр╕Др╕г',
}
```

### р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕│р╕Шр╕гр╕гр╕бр╕░р╕Юр╕┤р╣Ар╕ир╕й

```python
self.dhamma_terms = {
    'р╕нр╕Щр╕▓р╕Ыр╕▓р╕Щр╕кр╕Хр╕┤': 'р╕нр╕░р╕Щр╕▓-р╕Ыр╕▓-р╕Щр╕░-р╕кр╕░р╕Хр╕┤',
    'р╕зр╕┤р╕Ыр╕▒р╕кр╕кр╕Щр╕▓': 'р╕зр╕┤-р╕Ыр╕▒р╕Ф-р╕кр╕░р╕Щр╕▓',
    'р╕кр╕бр╕Цр╕░': 'р╕кр╕░р╕бр╕░р╕Чр╕░',
    # р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б...
}
```

---

## ЁЯУК Performance

```
Input Processing: ~0.1s
File I/O: ~0.05s
Regex Operations: ~0.3s
Total: ~0.5s per file

Memory: <10 MB
File Size: Works with 1 MB+ files
```

**р╕кр╕гр╕╕р╕Ы**: р╣Ар╕гр╣Зр╕зр╕бр╕▓р╕Б р╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ъ workflow!

---

## тЬЕ Checklist

- [x] р╕кр╕гр╣Йр╕▓р╕З TTS Preprocessor Agent
- [x] р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▒р╕Ър╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Ир╕гр╕┤р╕З (9,759 chars)
- [x] Integration р╕Бр╕▒р╕Ъ tts_unified.py
- [x] р╣Ар╕Юр╕┤р╣Ир╕б --clean р╣Бр╕ер╕░ --preview options
- [x] р╕нр╕▒р╕Юр╣Ар╕Фр╕Ч HTML UI (checkbox + JavaScript)
- [x] р╕кр╕гр╣Йр╕▓р╕З documentation (TTS_PREPROCESSOR_GUIDE.md)
- [x] р╕Чр╕Фр╕кр╕нр╕Ър╕Чр╕▒р╣Йр╕З 3 modes (standalone, clean, preview)
- [x] р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕Зр╕Ир╕гр╕┤р╕Зр╣Бр╕ер╕░р╕Яр╕▒р╕З (9.35 MB, р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Фр╕╡)

---

## ЁЯОЙ р╕кр╕гр╕╕р╕Ы

**TTS Preprocessor Agent р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ 100%!**

**р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М**:
- тЬЕ р╣Ар╕кр╕╡р╕вр╕З AI р╕Шр╕гр╕гр╕бр╕Кр╕▓р╕Хр╕┤р╕Вр╕╢р╣Йр╕Щ 500%
- тЬЕ р╣Др╕бр╣Ир╕нр╣Ир╕▓р╕Щр╣Бр╕Чр╕Б, р╕нр╕╡р╣Вр╕бр╕Ир╕┤, р╕ер╕┤р╕Зр╕Бр╣М
- тЬЕ р╣Бр╕Ыр╕ер╕Зр╕Хр╕▒р╕зр╣Ар╕ер╕Вр╣Бр╕ер╕░р╕Др╕│р╕вр╣Ир╕нр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Зр╣Ир╕▓р╕в (checkbox р╣Ар╕Фр╕╡р╕вр╕з)
- тЬЕ р╕Яр╕гр╕╡! (built-in)

**р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│**: 
- р╣Ар╕Ыр╕┤р╕Ф checkbox "ЁЯз╣ р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б" **р╣Ар╕кр╕бр╕н** р╣Ар╕бр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Кр╣Ир╕нр╕Зр╕Шр╕гр╕гр╕бр╕░
- р╣Гр╕Кр╣Й `--preview` р╕Др╕гр╕▒р╣Йр╕Зр╣Бр╕гр╕Бр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕Ьр╕е
- р╕ер╕нр╕Зр╕Яр╕▒р╕Зр╣Ар╕кр╕╡р╕вр╕З `audio/test_google_cleaned.mp3` р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ

---

**ЁЯЩП Agent р╕Юр╕гр╣Йр╕нр╕бр╕Кр╣Ир╕зр╕вр╕Чр╕│р╣Гр╕лр╣Йр╣Ар╕кр╕╡р╕вр╕Зр╕Шр╕гр╕гр╕бр╕░р╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕Шр╕гр╕гр╕бр╕Кр╕▓р╕Хр╕┤р╣Бр╕ер╕░р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф!**
